<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
		<script type="text/javascript" src="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.min.js"></script>
		<script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/2.10.6/moment.min.js"></script>
		<link rel="stylesheet" href="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.css" />
	</head>
	<body>
		<div id="cal-heatmap"></div>

		<script type="text/javascript">
			var date = new Date();

			var cal = new CalHeatMap();
			cal.init({
				itemSelctor:'',	//Dom to insert the cal
				domain:'month',
				subdomain:'day',
				start: date,	// Click to adjust the date

				data:'',		// date to view
				dataType:'json',

				//range:4,  //展示四个月

				subDomainTextFormat:"%d"
				/*
				subDomainTextFormat: function(date ,value) {
					return value;
				},
				*/

				domainLabelFormat:"%m-%Y",
				/*
				domainLabelFormat:function(date){
					moment.lang('en');
					return moment(date).format('MMMM'),toUpperCase();
				}
				*/

				//Click the cell to view the detail below
				/*
				onClick: function(date, nb) {
					$("#onClick-placeholder").html("You just clicked <br/>on <b>" +
						date + "</b> <br/>with <b>" +
						(nb === null ? "unknown" : nb) + "</b> items"
					);
				}
				*/

				//CSS to adjust
				/*
				cellRdius:10,
				cellPadding:5,
				domainMargin:[0,10],
				colLimit:15,
				*/
			});


			//update data
			cal.update("user=Marc");
			cal.options.data = "user=Marc";
			cal.next();
			//or 留一个button点击来更改数据，可以放到点击  past * week/month 里面
			$("#update-a-display-marc").on("click", function() {
				cal.update(marcData);
			});


			//导出热度图svg代码
			d3.select("#example-getsvg-button").on("click", function() {
				d3.event.preventDefault();
				d3.select("#example-getsvg-textarea").text(cal.getSVG());
			});

		</script>

	</body>
</html>
